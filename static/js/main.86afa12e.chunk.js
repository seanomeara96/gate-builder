(this["webpackJsonpgate-builder"]=this["webpackJsonpgate-builder"]||[]).push([[0],[,function(e,t,a){e.exports={app:"app_app__3B6Zk",header:"app_header__2S32o",icon:"app_icon__2evI_",pill:"app_pill__DUOYa",button:"app_button__d_lnf",input:"app_input__27s-3",button__smallButton:"app_button__smallButton__Cudv_",label:"app_label__1ENc-",form:"app_form__1CiDj",errorMessage:"app_errorMessage__3lo2k",wrapper:"app_wrapper__WjZqP",results:"app_results__3_mCL",img:"app_img__1MwOi",resultsCard:"app_resultsCard__37Au-",resultsCard__imgs:"app_resultsCard__imgs__3416j",resultsCard__img:"app_resultsCard__img__j3sN6",resultsCard__title:"app_resultsCard__title__1KUty",resultsCard__heading:"app_resultsCard__heading__39VGJ",resultsCard__content:"app_resultsCard__content__2W8KR",prices:"app_prices__dy4Uc",rrp:"app_rrp__1Cnn3"}},,,,,function(e,t,a){e.exports=a.p+"static/media/find-gate.0a5c1045.webp"},function(e,t,a){e.exports=a.p+"static/media/gate.846493bc.webp"},function(e,t,a){e.exports=a.p+"static/media/smallExtension.7d395a71.jpg"},function(e,t,a){e.exports=a.p+"static/media/medExtension.a7d6bc1f.jpg"},function(e,t,a){e.exports=a.p+"static/media/largeExtension.4b3faf17.jpg"},,,,function(e,t,a){e.exports=a(19)},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),l=a.n(s),i=a(12),o=a(4),c=a(5),u=a(13),p=a(11),m=function(e){return r.a.createElement("span",{style:{position:"relative"}},r.a.createElement("svg",{className:e.className,viewBox:"0 0 22 26",id:"icon-ih-bag-menu"}," ",r.a.createElement("g",{id:"ih-bag-menu-product-page",strokeWidth:"1",fillRule:"evenodd"}," ",r.a.createElement("g",{id:"ih-bag-menu-product_page_desktop",transform:"translate(-1520.000000, -94.000000)",fillRule:"nonzero",strokeWidth:"0.5"}," ",r.a.createElement("g",{id:"ih-bag-menu-user-copy",transform:"translate(1521.000000, 94.000000)"}," ",r.a.createElement("path",{d:"M19.6112632,5.9104124 L15.5460876,5.9104124 L15.5460876,5.80711503 C15.5460876,2.88058142 13.1655062,0.5 10.2389726,0.5 C7.31277772,0.5 4.93185764,2.88058142 4.93185764,5.80711503 L4.93185764,5.9104124 L0.8670207,5.9104124 C0.388127279,5.9104124 2.45137244e-13,6.29853959 2.45137244e-13,6.7774331 L2.45137244e-13,22.0651078 C2.45137244e-13,23.9590061 1.54065521,25.5 3.43455355,25.5 L17.0437304,25.5 C18.9376288,25.5 20.4782839,23.9590061 20.4782839,22.0651078 L20.4782839,6.7774331 C20.4782839,6.29853959 20.0901566,5.9104124 19.6112632,5.9104124 L19.6112632,5.9104124 Z M6.66589904,5.80711503 C6.66589904,3.83667498 8.26887127,2.23370274 10.2389726,2.23370274 C12.2094126,2.23370274 13.8123849,3.83667498 13.8123849,5.80711503 L13.8123849,5.9104124 L6.66589904,5.9104124 L6.66589904,5.80711503 Z M18.7442425,22.0651078 C18.7442425,23.0029127 17.9815352,23.7659586 17.0433917,23.7659586 L3.43455355,23.7659586 C2.49674876,23.7659586 1.73370274,23.0029127 1.73370274,22.0651078 L1.73370274,7.6444538 L4.93185764,7.6444538 L4.93185764,11.0336242 C4.93185764,11.5125176 5.31998491,11.9006449 5.79887834,11.9006449 C6.27777176,11.9006449 6.66589904,11.5125176 6.66589904,11.0336242 L6.66589904,7.6444538 L13.8123849,7.6444538 L13.8123849,11.0336242 C13.8123849,11.5125176 14.2005121,11.9006449 14.6794056,11.9006449 C15.1579604,11.9006449 15.5460876,11.5125176 15.5460876,11.0336242 L15.5460876,7.6444538 L18.7442425,7.6444538 L18.7442425,22.0651078 Z",id:"ih-bag-menu-Combined-Shape"})," ")," ")," ")," "),e.count>0?r.a.createElement("span",{className:e.pillClassName},e.count):r.a.createElement("span",null))},d=a(1),_=a.n(d),g=a(6),h=a.n(g),f=a(7),b=a.n(f),C=a(8),E=a.n(C),v=a(9),x=a.n(v),L=a(10),N=a.n(L),y={gate:{name:"BabyDan Premier True Pressure Fit Safety Gate - White (73.5 - 79.6cm)",length:76,price:76,id:1,img:b.a,isExtension:!1,tolerance:6},largeExtension:{name:"BabyDan Premier Gate Extension 64.5cm",length:64,price:64,id:2,img:N.a,isExtension:!0,tolerance:0},medExtension:{name:"Babydan Premier Gate Extension 32cm",length:32,price:32,id:3,img:x.a,isExtension:!0,tolerance:0},smallExtension:{name:"BabyDan Standard Extend-A-Gate Kit - White ( 7cm)",length:7,price:7,id:4,img:E.a,isExtension:!0,tolerance:0}};function B(e,t){var a=t,n=e.gate,r={},s=[];for(var l in e)r[l]=0,!0===e[l].isExtension&&s.push(l);if(a<=n.length&&a>=n.length-n.tolerance)return r.gate++,r;var i=s.sort((function(t,a){return e[a].length-e[t].length}));if(a>n.length){for(r.gate++,a-=n.length;a>e[i[i.length-1]].length;)for(var o in i)for(;a>e[i[o]].length;)r[i[o]]++,a-=e[i[o]].length;return a>0&&r[i[i.length-1]]++,r}}var w=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={width:0,bundle:Object(i.a)({},e.emptyBundle),totalBundleMaxLength:0,cart:{},totalCartItems:0,totalCartPrice:0,cartModalIsOpen:!1},e.options=y,e}return Object(c.a)(a,[{key:"flashError",value:function(e){var t=this;this.setState({errorMessage:e}),setTimeout((function(){t.setState({errorMessage:""})}),5e3)}},{key:"updateCart",value:function(){var e=this;console.log("update cart called"),this.setState({cart:this.state.bundle},(function(){console.log("this.state.cart",e.state.cart);var t=0;for(var a in e.state.bundle)t+=e.state.bundle[a];var n=0;for(var r in e.state.bundle)n+=e.options[r].price*e.state.bundle[r];e.setState({totalCartItems:t,totalCartPrice:n},(function(){console.log(e.state)}))}))}},{key:"renderBundle",value:function(){var e=this,t=this.state.bundle,a=[],n=[];if(t.gate>0){for(var s in t)if(t[s]>0){a.unshift(r.a.createElement("div",{className:_.a.resultsCard__title},"".concat(t[s]," x ").concat(this.options[s].name)));for(var l=0;l<t[s];l++)n.push(r.a.createElement("img",{alt:this.options[s].name,className:_.a.resultsCard__img,src:this.options[s].img}))}return r.a.createElement("div",{className:_.a.resultsCard},r.a.createElement("div",{className:_.a.resultsCard__content},r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("h2",{className:_.a.resultsCard__heading},"Your Bundle: (",this.state.totalBundleMaxLength-this.options.gate.tolerance,"cm - ",this.state.totalBundleMaxLength,"cm)"),a,r.a.createElement("button",{className:"".concat(_.a.button," ").concat(_.a.button__smallButton),onClick:function(){e.updateCart()}},"Add Bundle To Cart"))),r.a.createElement("div",{className:_.a.resultsCard__imgs},n))}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:_.a.app},r.a.createElement("header",{className:_.a.header},r.a.createElement(m,{count:this.state.totalCartItems,pillClassName:_.a.pill,className:_.a.icon})),r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("form",{className:_.a.form,onSubmit:function(t){t.preventDefault(),e.setState({bundle:{},errorMessage:""},(function(){e.setState({bundle:B(e.options,e.state.width)},(function(){var t=0;for(var a in e.state.bundle)t+=e.options[a].length*e.state.bundle[a];e.setState({totalBundleMaxLength:t},(function(){console.log("totalBundleMaxLength",e.state.totalBundleMaxLength)}))}))}))}},r.a.createElement("img",{alt:"baby gate",className:_.a.img,src:h.a}),r.a.createElement("label",{className:_.a.label},"Can't find what you want? Use our ",r.a.createElement("strong",null,"Gate-Builder")," to build the perfect gate for your home."),r.a.createElement("input",{placeholder:"Enter your width in cm",className:_.a.input,name:"number",type:"number",onChange:function(t){e.setState({width:parseInt(t.target.value)})},val:this.state.width}),r.a.createElement("button",{className:_.a.button},"Build"))),r.a.createElement("div",{className:_.a.results},r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("div",{className:_.a.errorMessage},this.state.errorMessage)),this.renderBundle()))}}]),a}(r.a.Component);l.a.render(r.a.createElement(w,null),document.querySelector("#root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.86afa12e.chunk.js.map