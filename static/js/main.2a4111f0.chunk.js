(this["webpackJsonpgate-builder"]=this["webpackJsonpgate-builder"]||[]).push([[0],[,function(e,t,a){e.exports={app:"app_app__3B6Zk",header:"app_header__2S32o",icon:"app_icon__2evI_",pill:"app_pill__DUOYa",button:"app_button__d_lnf",input:"app_input__27s-3",button__smallButton:"app_button__smallButton__Cudv_",label:"app_label__1ENc-",form:"app_form__1CiDj",errorMessage:"app_errorMessage__3lo2k",wrapper:"app_wrapper__WjZqP",results:"app_results__3_mCL",img:"app_img__1MwOi",resultsCard:"app_resultsCard__37Au-",resultsCard__imgs:"app_resultsCard__imgs__3416j",resultsCard__img:"app_resultsCard__img__j3sN6",resultsCard__title:"app_resultsCard__title__1KUty",resultsCard__heading:"app_resultsCard__heading__39VGJ",resultsCard__content:"app_resultsCard__content__2W8KR",prices:"app_prices__dy4Uc",rrp:"app_rrp__1Cnn3",cartModalContainer:"app_cartModalContainer__35oSk"}},function(e,t,a){e.exports={cart:"cart_cart__2rCYC",result:"cart_result___1Azz",result__name:"cart_result__name__GuCTu"}},function(e,t,a){e.exports={buttonContainer:"cart-buttons_buttonContainer__3g_jH",primaryButton:"cart-buttons_primaryButton__1YkqF",secondaryButton:"cart-buttons_secondaryButton__2FZ9w"}},,,,,function(e,t,a){e.exports=a.p+"static/media/find-gate.0a5c1045.webp"},function(e,t,a){e.exports=a.p+"static/media/gate.846493bc.webp"},function(e,t,a){e.exports=a.p+"static/media/smallExtension.7d395a71.jpg"},function(e,t,a){e.exports=a.p+"static/media/medExtension.a7d6bc1f.jpg"},function(e,t,a){e.exports=a.p+"static/media/largeExtension.4b3faf17.jpg"},,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(5),l=a.n(s),o=a(14),i=a(6),c=a(7),u=a(15),m=a(13),p=function(e){return r.a.createElement("span",{onClick:e.onClick,style:{position:"relative"}},r.a.createElement("svg",{className:e.className,viewBox:"0 0 22 26",id:"icon-ih-bag-menu"}," ",r.a.createElement("g",{id:"ih-bag-menu-product-page",strokeWidth:"1",fillRule:"evenodd"}," ",r.a.createElement("g",{id:"ih-bag-menu-product_page_desktop",transform:"translate(-1520.000000, -94.000000)",fillRule:"nonzero",strokeWidth:"0.5"}," ",r.a.createElement("g",{id:"ih-bag-menu-user-copy",transform:"translate(1521.000000, 94.000000)"}," ",r.a.createElement("path",{d:"M19.6112632,5.9104124 L15.5460876,5.9104124 L15.5460876,5.80711503 C15.5460876,2.88058142 13.1655062,0.5 10.2389726,0.5 C7.31277772,0.5 4.93185764,2.88058142 4.93185764,5.80711503 L4.93185764,5.9104124 L0.8670207,5.9104124 C0.388127279,5.9104124 2.45137244e-13,6.29853959 2.45137244e-13,6.7774331 L2.45137244e-13,22.0651078 C2.45137244e-13,23.9590061 1.54065521,25.5 3.43455355,25.5 L17.0437304,25.5 C18.9376288,25.5 20.4782839,23.9590061 20.4782839,22.0651078 L20.4782839,6.7774331 C20.4782839,6.29853959 20.0901566,5.9104124 19.6112632,5.9104124 L19.6112632,5.9104124 Z M6.66589904,5.80711503 C6.66589904,3.83667498 8.26887127,2.23370274 10.2389726,2.23370274 C12.2094126,2.23370274 13.8123849,3.83667498 13.8123849,5.80711503 L13.8123849,5.9104124 L6.66589904,5.9104124 L6.66589904,5.80711503 Z M18.7442425,22.0651078 C18.7442425,23.0029127 17.9815352,23.7659586 17.0433917,23.7659586 L3.43455355,23.7659586 C2.49674876,23.7659586 1.73370274,23.0029127 1.73370274,22.0651078 L1.73370274,7.6444538 L4.93185764,7.6444538 L4.93185764,11.0336242 C4.93185764,11.5125176 5.31998491,11.9006449 5.79887834,11.9006449 C6.27777176,11.9006449 6.66589904,11.5125176 6.66589904,11.0336242 L6.66589904,7.6444538 L13.8123849,7.6444538 L13.8123849,11.0336242 C13.8123849,11.5125176 14.2005121,11.9006449 14.6794056,11.9006449 C15.1579604,11.9006449 15.5460876,11.5125176 15.5460876,11.0336242 L15.5460876,7.6444538 L18.7442425,7.6444538 L18.7442425,22.0651078 Z",id:"ih-bag-menu-Combined-Shape"})," ")," ")," ")," "),e.count>0?r.a.createElement("span",{className:e.pillClassName},e.count):r.a.createElement("span",null))},d=a(1),_=a.n(d),g=a(8),h=a.n(g),C=a(9),f=a.n(C),b=a(10),E=a.n(b),v=a(11),N=a.n(v),y=a(12),x=a.n(y),B={gate:{name:"BabyDan Premier True Pressure Fit Safety Gate - White (73.5 - 79.6cm)",length:76,price:76,id:1,img:f.a,isExtension:!1,tolerance:6},largeExtension:{name:"BabyDan Premier Gate Extension 64.5cm",length:64,price:64,id:2,img:x.a,isExtension:!0,tolerance:0},medExtension:{name:"Babydan Premier Gate Extension 32cm",length:32,price:32,id:3,img:N.a,isExtension:!0,tolerance:0},smallExtension:{name:"BabyDan Standard Extend-A-Gate Kit - White ( 7cm)",length:7,price:7,id:4,img:E.a,isExtension:!0,tolerance:0}};function L(e,t){var a=t,n=e.gate,r={},s=[];for(var l in e)r[l]=0,!0===e[l].isExtension&&s.push(l);if(a<=n.length&&a>=n.length-n.tolerance)return r.gate++,r;var o=s.sort((function(t,a){return e[a].length-e[t].length}));if(a>n.length){for(r.gate++,a-=n.length;a>e[o[o.length-1]].length;)for(var i in o)for(;a>e[o[i]].length;)r[o[i]]++,a-=e[o[i]].length;return a>0&&r[o[o.length-1]]++,r}}var M=function(e){var t=e.options,a=e.totalBundleMaxLength,n=e.listItem,s=e.images,l=e.onClick;return r.a.createElement("div",{className:_.a.resultsCard},r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("div",{className:_.a.resultsCard__content},r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("h2",{className:_.a.resultsCard__heading},"Your Bundle: (",a-t.gate.tolerance,"cm - ",a,"cm)"),n,r.a.createElement("button",{className:"".concat(_.a.button," ").concat(_.a.button__smallButton),onClick:l},"Add Bundle To Cart")))),r.a.createElement("div",{className:_.a.resultsCard__imgs},s))},k=a(2),w=a.n(k),S=a(3),I=a.n(S),O=function(){return r.a.createElement("div",{className:I.a.buttonContainer},r.a.createElement("button",{className:I.a.primaryButton},"Check Out Now"),r.a.createElement("button",{className:I.a.secondaryButton},"View Cart"))},j=function(e){console.log(e.cartContents,"props.cartContents");var t=[];for(var a in e.cartContents)e.cartContents[a]>0&&t.push(r.a.createElement("div",{key:a,className:w.a.result},r.a.createElement("h3",{className:w.a.result__name},e.options[a].name),r.a.createElement("span",{className:w.a.result__price},"\u20ac",e.options[a].price," \xd7 ",e.cartContents[a])));return!0===e.isOpen?r.a.createElement("div",{className:w.a.cart},e.totalCartItems>0?r.a.createElement("div",{style:{padding:"3rem"}},t,r.a.createElement(O,null)):r.a.createElement("div",{style:{padding:"3rem"}},"Nothing to see here. Add some items to your cart")):""},G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={width:0,bundle:{},totalBundleMaxLength:0,cart:{},totalCartItems:0,totalCartPrice:0,cartModalIsOpen:!1},e.options=B,e.flashError=function(t){e.setState({errorMessage:t}),setTimeout((function(){e.setState({errorMessage:""})}),5e3)},e}return Object(c.a)(a,[{key:"emptyCart",value:function(){this.setState({cart:{}})}},{key:"updateCart",value:function(){var e=this;console.log("update cart called"),this.setState({cart:Object(o.a)({},this.state.bundle)},(function(){console.log("this.state.cart",e.state.cart);var t=0;for(var a in e.state.bundle)t+=e.state.bundle[a];var n=0;for(var r in e.state.bundle)n+=e.options[r].price*e.state.bundle[r];e.setState({totalCartItems:t,totalCartPrice:n},(function(){console.log(e.state)}))}))}},{key:"renderBundle",value:function(){var e=this,t=this.state.bundle,a=[],n=[],s=0;if(t.gate>0){for(var l in t){if(t[l]>0){a.unshift(r.a.createElement("div",{className:_.a.resultsCard__title,key:s},"".concat(t[l]," x ").concat(this.options[l].name)));for(var o=0;o<t[l];o++)n.push(r.a.createElement("img",{alt:this.options[l].name,className:_.a.resultsCard__img,src:this.options[l].img,key:s+o}))}s++}return r.a.createElement(M,{options:this.options,totalBundleMaxLength:this.state.totalBundleMaxLength,listItem:a,images:n,onClick:function(){e.updateCart()}})}}},{key:"buildButtonHandler",value:function(e){var t=this;e.preventDefault(),this.setState({bundle:{},errorMessage:""},(function(){t.state.width>=t.options.gate.length-t.options.gate.tolerance?t.setState({bundle:L(t.options,t.state.width)},(function(){var e=0;for(var a in t.state.bundle)e+=t.options[a].length*t.state.bundle[a];t.setState({totalBundleMaxLength:e},(function(){console.log("totalBundleMaxLength",t.state.totalBundleMaxLength)}))})):t.flashError("We don't have any configurations this small.")}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:_.a.app},r.a.createElement("header",{className:_.a.header},r.a.createElement(p,{onClick:function(){console.log("click"),e.setState({cartModalIsOpen:!1===e.state.cartModalIsOpen},(function(){return console.log(e.state.cartModalIsOpen)}))},count:this.state.totalCartItems,pillClassName:_.a.pill,className:_.a.icon})),r.a.createElement("div",{className:_.a.cartModalContainer},r.a.createElement(j,{totalCartItems:this.state.totalCartItems,isOpen:this.state.cartModalIsOpen,cartContents:this.state.cart,options:this.options})),r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("form",{className:_.a.form,onSubmit:function(t){e.buildButtonHandler(t),e.button.focus()}},r.a.createElement("img",{alt:"baby gate",className:_.a.img,src:h.a}),r.a.createElement("label",{className:_.a.label},"Can't find what you want? Use our ",r.a.createElement("strong",null,"Gate-Builder")," to build the perfect gate for your home."),r.a.createElement("input",{placeholder:"Enter your width in cm",className:_.a.input,name:"number",type:"number",onChange:function(t){e.setState({width:parseInt(t.target.value)})},val:this.state.width}),r.a.createElement("button",{className:_.a.button,ref:function(t){return e.button=t}},"Build"))),r.a.createElement("div",{className:_.a.results},r.a.createElement("div",{className:_.a.wrapper},r.a.createElement("div",{className:_.a.errorMessage},this.state.errorMessage)),this.renderBundle()))}}]),a}(r.a.Component);l.a.render(r.a.createElement(G,null),document.querySelector("#root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.2a4111f0.chunk.js.map